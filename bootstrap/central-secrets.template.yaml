# Template used when bootstrapping `bootstrap/central-secrets.sops.yaml`.
# Replace every placeholder before encrypting the real secret bundle.
apiVersion: v1
kind: Secret
metadata:
  name: homelab-central-secrets
  namespace: kube-system
type: Opaque
stringData:
  argocd_repo_url: https://github.com/edgard/home-ops.git
  argocd_repo_username: "<argocd-username>"
  argocd_repo_password: "<argocd-password>"
  argocd_admin_password: "<bcrypt-hash-from-htpasswd>"
  arc_runners_github_app_id: "<github-app-id>"
  arc_runners_github_app_installation_id: "<github-app-installation-id>"
  arc_runners_github_app_private_key: |-
    -----BEGIN RSA PRIVATE KEY-----
    <github-app-private-key>
    -----END RSA PRIVATE KEY-----
  qbittorrent_server_cities: "<comma-separated-city-list>"
  qbittorrent_wireguard_addresses: "<wireguard-address-cidr>"
  qbittorrent_wireguard_private_key: "<wireguard-private-key>"
  unpackerr_radarr_api_key: "<radarr-api-key>"
  unpackerr_sonarr_api_key: "<sonarr-api-key>"
  cert_manager_cloudflare_api_token: "<cloudflare-api-token>"
  cloudflared_tunnel_token: "<cloudflared-tunnel-token>"
  dex_config_yaml: |-
    issuer: https://id.example.com
    storage:
      type: sqlite3
      config:
        file: /data/dex.db
    web:
      http: 0.0.0.0:5556
    telemetry:
      http: 0.0.0.0:5558
    logger:
      level: info
    frontend:
      issuer: Example Identity
    oauth2:
      skipApprovalScreen: true
    enablePasswordDB: true
    staticPasswords:
      - email: admin@example.com
        hash: "<bcrypt-hash>"
        username: admin
    staticClients:
      - id: oauth2-proxy
        name: OAuth2 Proxy
        redirectURIs:
          - https://auth.example.com/oauth2/callback
        secret: "<oauth2-proxy-client-secret>"
  external_dns_cloudflare_api_token: "<cloudflare-api-token>"
  external_dns_unifi_api_key: "<unifi-api-key>"
  kopia_password: "<kopia-password>"
  oauth2_proxy_client_id: oauth2-proxy
  oauth2_proxy_client_secret: "<oauth2-proxy-client-secret>"
  oauth2_proxy_cookie_secret: "<oauth2-proxy-cookie-secret>"
  grafana_admin_user: admin
  grafana_admin_password: "<grafana-admin-password>"
