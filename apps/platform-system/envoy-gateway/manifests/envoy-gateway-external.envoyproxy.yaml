---
apiVersion: gateway.envoyproxy.io/v1alpha1
kind: EnvoyProxy
metadata:
  name: envoy-gateway-external
  namespace: platform-system
spec:
  provider:
    type: Kubernetes
    kubernetes:
      useListenerPortAsContainerPort: true
      envoyDeployment:
        replicas: 1
        container:
          securityContext:
            capabilities:
              add:
                - NET_BIND_SERVICE
      envoyService:
        type: ClusterIP
        name: envoy-gateway-external
  logging:
    level:
      default: info
