---
controllers: {}

configMaps:
  coredns:
    enabled: true
    forceRename: coredns
    data:
      Corefile: |-
        .:53 {
            errors
            health {
                lameduck 5s
            }
            ready
            log . {
                class error
            }
            prometheus :9153

            kubernetes cluster.local in-addr.arpa ip6.arpa {
                pods insecure
                fallthrough in-addr.arpa ip6.arpa
                ttl 30
            }
            forward edgard.org 10.96.53.53
            forward . /etc/resolv.conf {
               max_concurrent 1000
            }
            cache 30 {
               disable success cluster.local
               disable denial cluster.local
            }
            loop
            reload
            loadbalance
        }
