controllers: {}

configMaps:
  # Do not overwrite the main coredns ConfigMap
  corefile:
    enabled: false
  
  # Create the custom ConfigMap that k3s CoreDNS automatically mounts
  custom:
    enabled: true
    name: coredns-custom
    data:
      # This file ends with .server so it will be imported by "import /etc/coredns/custom/*.server"
      # at the top level of the Corefile (outside the main server block)
      edgard.server: |-
        edgard.org:53 {
            errors
            forward . 192.168.1.1
            cache 30
            log
        }
