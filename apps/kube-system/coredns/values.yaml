---
controllers: {}

configMaps:
  # Create the custom ConfigMap that k3s CoreDNS automatically mounts
  custom:
    enabled: true
    forceRename: coredns-custom
    data:
      # Files ending in .override are imported INSIDE the main .:53 server block
      # This avoids memory overhead of a separate server block
      # Hairpin DNS: forward edgard.org queries to k8s-gateway (10.43.53.53)
      # which resolves HTTPRoute hostnames to gateway's internal ClusterIP
      edgard.override: |-
        forward edgard.org 10.43.53.53
