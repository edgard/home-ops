---
fullnameOverride: k8s-gateway

# Domain to be authoritative for
domain: edgard.org

# Watch HTTPRoute resources from Gateway API
# This enables automatic DNS resolution for services exposed via Gateway API
watchedResources:
  - HTTPRoute

# TTL for DNS responses (seconds)
ttl: 60

# Enable fallthrough to pass unmatched queries to the next plugin
fallthrough:
  enabled: true

# Extra plugins - forward unknowns to Unifi for non-HTTPRoute edgard.org subdomains
extraZonePlugins:
  - name: forward
    parameters: . 192.168.1.1

# Service configuration - ClusterIP for internal DNS resolution
# Use a static ClusterIP so CoreDNS can reference it (forward plugin requires IP, not hostname)
service:
  type: ClusterIP
  port: 53
  clusterIP: 10.43.53.53

# Resources - unlimited per cluster policy
resources: {}
